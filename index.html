<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Master SL - Next Level Study Companion</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
</head>
<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div id="loadingScreen" class="loading-screen">
        <div class="loader-content" style="text-align: center;">
            <div class="loader-ring"></div>
            <h2 style="margin-top: 20px; color: white;">EXAM MASTER</h2>
            <p style="color: #94a3b8;">Loading your future...</p>
        </div>
    </div>

    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>EXAM<strong>MASTER</strong></span>
            </div>
            <div class="nav-actions" style="display: flex; gap: 10px;">
                <button class="icon-btn" onclick="toggleThemePanel()"><i class="fas fa-palette"></i></button>
                <button class="icon-btn" onclick="toggleProfile()"><i class="fas fa-user-circle"></i></button>
            </div>
        </div>
    </nav>

    <div id="themePanel" class="theme-panel">
        <div class="panel-header" style="display: flex; justify-content: space-between; color: white; margin-bottom: 20px;">
            <h3>Themes</h3>
            <button onclick="toggleThemePanel()" style="background:none; border:none; color:white; font-size: 1.2rem; cursor:pointer;"><i class="fas fa-times"></i></button>
        </div>
        <p style="color: #94a3b8;">Neon Dark mode is active by default for best experience.</p>
    </div>

    <div id="profilePanel" class="profile-panel">
        <div class="panel-header" style="display: flex; justify-content: space-between; color: white; margin-bottom: 20px;">
            <h3>My Profile</h3>
            <button onclick="toggleProfile()" style="background:none; border:none; color:white; font-size: 1.2rem; cursor:pointer;"><i class="fas fa-times"></i></button>
        </div>
        <div style="text-align: center; margin-bottom: 20px;">
            <img id="currentAvatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=student" style="width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--primary); margin-bottom: 10px;">
            <br>
            <input type="text" id="userName" placeholder="Your Name" class="ai-input" style="width: 100%; text-align: center;">
        </div>
        <button class="start-btn" onclick="saveProfile()" style="width: 100%;">Save Profile</button>
    </div>

    <div class="container">
        <div class="hero-section">
            <h1 class="main-title">Master Your<br>Exams Today</h1>
            <p class="subtitle">The ultimate AI-powered study companion for A/L & O/L students.</p>

            <div class="exam-selector">
                <div class="exam-grid" id="examGrid">
                    </div>
            </div>

            <div class="countdown-display">
                <div class="countdown-grid-2x2">
                    <div class="time-box">
                        <div class="time-value" id="days">00</div>
                        <div class="time-label">DAYS</div>
                    </div>
                    <div class="time-box">
                        <div class="time-value" id="hours">00</div>
                        <div class="time-label">HOURS</div>
                    </div>
                    <div class="time-box">
                        <div class="time-value" id="minutes">00</div>
                        <div class="time-label">MINUTES</div>
                    </div>
                    <div class="time-box">
                        <div class="time-value" id="seconds">00</div>
                        <div class="time-label">SECONDS</div>
                    </div>
                </div>
            </div>

            <div class="selected-exam" style="display: inline-flex; align-items: center; gap: 10px; margin-top: 20px;">
                <span style="width: 8px; height: 8px; background: #4ade80; border-radius: 50%; box-shadow: 0 0 10px #4ade80;"></span>
                <span id="examBadgeText" style="color: #4ade80; font-weight: 600;">Loading...</span>
            </div>
        </div>

        <div class="features-grid">
            
            <div class="feature-card ai-card">
                <div class="card-header">
                    <i class="fas fa-robot"></i>
                    <h2>AI Tutor</h2>
                </div>
                <div class="ai-chat-box" id="aiChatBox">
                    <div class="ai-message ai-message-bot">
                        <div class="message-content">Hello! I'm your AI study partner. How can I help you today? ðŸ“š</div>
                    </div>
                </div>
                <div class="ai-input-area">
                    <input type="text" id="aiInput" placeholder="Ask anything..." class="ai-input">
                    <button onclick="sendAIMessage()" class="ai-send-btn"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>

            <div class="feature-card timer-card">
                <div class="card-header">
                    <i class="fas fa-clock"></i>
                    <h2>Focus Timer</h2>
                </div>
                <div class="timer-circle">
                    <svg class="timer-svg" viewBox="0 0 200 200">
                        <circle class="timer-bg" cx="100" cy="100" r="90"></circle>
                        <circle class="timer-progress" id="timerProgress" cx="100" cy="100" r="90"></circle>
                    </svg>
                    <div class="timer-time" id="timerDisplay">25:00</div>
                </div>
                <div class="timer-controls">
                    <button onclick="startTimer()" class="timer-btn start-btn" id="startBtn"><i class="fas fa-play"></i> Start</button>
                    <button onclick="pauseTimer()" class="timer-btn" id="pauseBtn" style="background: #ef4444; color: white; display:none;"><i class="fas fa-pause"></i> Pause</button>
                    <button onclick="resetTimer()" class="timer-btn reset-btn"><i class="fas fa-redo"></i></button>
                </div>
            </div>

            <div class="feature-card todo-card">
                <div class="card-header">
                    <i class="fas fa-check-circle"></i>
                    <h2>Daily Goals</h2>
                </div>
                <div class="ai-input-area" style="margin-bottom: 15px;">
                    <input type="text" id="todoInput" placeholder="Add a new task..." class="ai-input">
                    <button onclick="addTodo()" class="ai-send-btn"><i class="fas fa-plus"></i></button>
                </div>
                <div id="todoList" style="max-height: 230px; overflow-y: auto;">
                    </div>
            </div>

            <div class="quote-card">
                <div class="card-header">
                    <i class="fas fa-quote-left"></i>
                    <h2>Daily Motivation</h2>
                </div>
                <p id="dailyQuote" style="font-size: 1.1rem; line-height: 1.6; font-style: italic; color: #e2e8f0;">Loading motivation...</p>
            </div>

        </div> <footer style="margin-top: 80px; text-align: center; color: var(--text-muted); padding: 40px; border-top: 1px solid var(--glass-border);">
            <p>Made with <i class="fas fa-heart" style="color: var(--accent);"></i> for Sri Lankan Students</p>
            <p style="font-size: 0.9rem; margin-top: 10px;">&copy; 2025 Exam Master SL</p>
        </footer>
    </div>

    <div id="toast" style="position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%); background: white; color: black; padding: 12px 24px; border-radius: 50px; transition: bottom 0.3s; font-weight: 600; z-index: 9999;"></div>

    <script type="module" src="app.js"></script>
    <script>
        // Scroll Reveal Animation Script
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal-active');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.feature-card, .quote-card, .hero-section').forEach(el => {
            el.classList.add('reveal-element');
            observer.observe(el);
        });
    </script>
</body>
</html>
